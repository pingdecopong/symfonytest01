{% extends "::base.html.twig" %}
{% form_theme form 'pingdecopongFormFreezeBundle:Form:form_layout.html.twig' %}

{% block title %}ユーザ情報　一覧4{% endblock %}

{% block body %}
    <h1>ユーザ一覧4</h1>
    <form action="{{ path('systemuser_list4') }}" method="get" {{ form_enctype(form) }} novalidate name="systemuser_list4" id="systemuser_list4">

        {{ form_widget(form) }}


        <table>
            <thead>
            <tr>
                {% for header in column.Rows %}
                    <th>

                        {% if header.Enable %}


                            {% if header.sortSelected %}
                                {% if header.SortType == 'asc' %}
                                    <a href="#" onclick="changeSortType('{{ header.keyName }}', 'desc')">
                                        {{ header.label }}↓
                                    </a>
                                {% elseif header.SortType == 'desc' %}
                                    <a href="#" onclick="changeSortType('{{ header.keyName }}', 'asc')">
                                        {{ header.label }}↑
                                    </a>
                                {% endif %}
                            {% else %}
                                <a href="#" onclick="changeSortType('{{ header.keyName }}', 'asc')">
                                    {{ header.label }}
                                </a>
                            {% endif %}
                        {% else %}
                            {{ header.label }}
                        {% endif %}
                    </th>
                {% endfor %}

            </tr>
            </thead>
            <tbody>

            </tbody>
        </table>


        {% set form_id = 'systemuser_list4' %}
        {{ block('basic_pager') }}

{#
        <div>
            {% for page in pager.PageNo.Rows %}
                {% if page.select %}
                    {{ page.label }}
                {% else %}
                    <a href="#" onclick="pagenoClick('{{ page.pageNo }}')">{{ page.label }}</a>
                {% endif %}
            {% endfor %}
        </div>
#}
    </form>
{% endblock %}

{% block basic_pager %}
    <div>
        {% for page in pager.PageNo.Rows %}
            {% if page.select %}
                {{ page.label }}
            {% else %}
                <a href="#" onclick="basic_pager_pagenoClick('{{ page.pageNo }}')">{{ page.label }}</a>
            {% endif %}
        {% endfor %}
    </div>
    <script type="text/javascript">
        //<![CDATA[
        function basic_pager_pagenoClick(pageno){
            $('#{{ form.basicpager.pageNo.vars.id }}').val(pageno);
            $('#{{ form_id }}').submit();
        }
        //]]>
    </script>
{% endblock basic_pager %}

{% block javascripts %}
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <script type="text/javascript">
        //<![CDATA[

        function changePageSize(){
            document.systemuser_list4.{{ form.basicpager.pageNo.vars.id }}.value = 1;
            document.systemuser_list4.submit();
        }
        function changeSortType(sortName, sortType){
            document.systemuser_list4.{{ form.basiccolumn.sortName.vars.id }}.value = sortName;
            document.systemuser_list4.{{ form.basiccolumn.sortType.vars.id }}.value = sortType;
            document.systemuser_list4.submit();
        }
        function postBack(){
            document.systemuser_list4.submit();
        }
        //]]>
    </script>
{% endblock %}
